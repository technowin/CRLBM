

{% load static i18n %}

{% load custom_filters %}

<!-- ========== Left Sidebar Start ========== -->
<div class="leftside-menu">

    <!-- Brand Logo Light -->
    <a href="{% url 'dashboard:index' %}" class="logo logo-light">
        <span class="logo-lg" style="color:white !important;font-weight:bold">
            <img src="{% static 'images/technologo2.png' %}" alt="logo">&nbsp;&nbsp;Technowin
        </span>
        <span class="logo-sm">
            <img src="{% static 'images/technologo2.png' %}" alt="small logo">
        </span>
    </a>

    <!-- Brand Logo Dark -->
    <a href="{% url 'dashboard:index' %}" class="logo logo-dark">
        <span class="logo-lg" style="color:black !important;font-weight:bold">
            <img src="{% static 'images/technologo1.png' %}" alt="dark logo">&nbsp;&nbsp;Technowin
        </span>
        <span class="logo-sm">
            <img src="{% static 'images/technologo1.png' %}" alt="small logo">
        </span>
    </a>

    <!-- Sidebar Hover Menu Toggle Button -->
    <div class="button-sm-hover" data-bs-toggle="tooltip" data-bs-placement="right" title="Show Full Sidebar">
        <i class="ri-checkbox-blank-circle-line align-middle"></i>
    </div>

    <!-- Full Sidebar Menu Close Button -->
    <div class="button-close-fullsidebar">
        <i class="ri-close-fill align-middle"></i>
    </div>

    <!-- Sidebar -left -->
    <div class="h-100" id="leftside-menu-container" data-simplebar>
        <!-- Leftbar User -->
        <div class="leftbar-user">
            <a href="{% url 'pages:profile' %}">
                <img src="{% static 'img/user.png' %}" alt="user-image" height="42"
                     class="rounded-circle shadow-sm">
                <span class="leftbar-user-name mt-2">{{ full_name }}</span>
            </a>
        </div>

        <!--- Sidemenu -->
        <ul class="side-nav">
            
            {% comment %} <li class="side-nav-title">Navigation</li> {% endcomment %}
            {% for item in menu_items %}
                <li class="side-nav-item">
                    {% if not item.is_parent %}
                        <!-- Single level menu item -->
                        <a class="side-nav-link" href="{{ item.action }}">
                            <i class="{{ item.menu_icon }}"></i>
                            {% if item.badge %}
                                <span class="badge bg-success float-end">{{ item.badge }}</span>
                            {% endif %}
                            <span>{{ item.name }}</span>
                        </a>
                    {% else %}
                        <!-- Parent menu item with children -->
                        <a data-bs-toggle="collapse" href="#sidebarMenu_{{ item.id }}" aria-expanded="false"
                           aria-controls="sidebarMenu_{{ item.id }}" class="side-nav-link">
                            <i class="{{ item.menu_icon }}"></i>
                            <span>{{ item.name }}</span>
                            <span class="menu-arrow"></span>
                        </a>
                        <div class="collapse" id="sidebarMenu_{{ item.id }}">
                            <ul class="side-nav-second-level">
                                {% for child in item.children %}
                                    {% if not child.is_sub_menu %}
                                        <!-- Second level simple item -->
                                        <li>
                                            <a href="{{ child.action }}">{{ child.name }}</a>
                                        </li>
                                    {% else %}
                                        <!-- Second level with submenu -->
                                        <li class="side-nav-item">
                                            <a data-bs-toggle="collapse" href="#sidebarSubMenu_{{ child.id }}" 
                                               aria-expanded="false" aria-controls="sidebarSubMenu_{{ child.id }}">
                                                <span>{{ child.name }}</span>
                                                <span class="menu-arrow"></span>
                                            </a>
                                            <div class="collapse" id="sidebarSubMenu_{{ child.id }}">
                                                <ul class="side-nav-third-level">
                                                    {% for sub_child in child.children %}
                                                        {% if not sub_child.is_sub_menu2 %}
                                                            <!-- Third level simple item -->
                                                            <li>
                                                                <a href="{{ sub_child.action }}">{{ sub_child.name }}</a>
                                                            </li>
                                                        {% else %}
                                                            <!-- Third level with submenu -->
                                                            <li class="side-nav-item">
                                                                <a data-bs-toggle="collapse" href="#sidebarSubMenu2_{{ sub_child.id }}" 
                                                                   aria-expanded="false" aria-controls="sidebarSubMenu2_{{ sub_child.id }}">
                                                                    <span>{{ sub_child.name }}</span>
                                                                    <span class="menu-arrow"></span>
                                                                </a>
                                                                <div class="collapse" id="sidebarSubMenu2_{{ sub_child.id }}">
                                                                    <ul class="side-nav-forth-level">
                                                                        {% for sub_sub_child in sub_child.children %}
                                                                            <li>
                                                                                <a href="{{ sub_sub_child.action }}">{{ sub_sub_child.name }}</a>
                                                                            </li>
                                                                        {% endfor %}
                                                                    </ul>
                                                                </div>
                                                            </li>
                                                        {% endif %}
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </li>
            {% endfor %}
            
                <li class="side-nav-title">Technowin Xperience</li>
                <li class="side-nav-item">
                    <a data-bs-toggle="collapse" href="#sidebarDashboards" aria-expanded="false"
                       aria-controls="sidebarDashboards" class="side-nav-link">
                        <i class="uil-home-alt"></i>
                        <span class="badge bg-success float-end">4</span>
                        <span> Dashboards </span>
                    </a>
                    <div class="collapse" id="sidebarDashboards">
                        <ul class="side-nav-second-level">
                            <li><a href="{% url 'dashboard:crm' %}">CRM</a></li>
                            <li><a href="{% url 'dashboard:projects' %}">Projects</a></li>
                            <li><a href="/cms/dashboard">Customers</a></li>
                            <li><a href="/vendors/">Vendors</a></li>
                        </ul>
                    </div>
                </li>    

                <li class="side-nav-title">Apps</li>

                <li class="side-nav-item">
                    <a data-bs-toggle="collapse" href="#sidebarCrm" aria-expanded="false" aria-controls="sidebarCrm"
                       class="side-nav-link">
                        <i class="uil uil-tachometer-fast"></i>
                        <span class="badge bg-danger text-white float-end">New</span>
                        <span> CRM </span>
                    </a>
                    <div class="collapse" id="sidebarCrm">
                        <ul class="side-nav-second-level">
                            <li><a href="/crm/dashboard/">Dashboard</a></li>
                            <li><a href="/crm/enquiries/">Enquiry</a></li>
                            <li><a href="/crm/quotations/">Quotation </a></li>
                            <li><a href="/crm/sales-orders/">Sales Order</a></li>
                            <li><a href="/cms/customers/">Customers</a></li>
                            <li><a href="{% url 'bootstrap_crm:projects' %}">Projects</a></li>
                            {% comment %} <li><a href="{% url 'bootstrap_crm:orders-list' %}">Orders List</a></li> {% endcomment %}
                            <li><a href="{% url 'bootstrap_crm:clients' %}">Clients</a></li>
                            {% comment %} <li><a href="{% url 'bootstrap_crm:management' %}">Management</a></li> {% endcomment %}
                        </ul>
                    </div>
                </li>

                <li class="side-nav-item">
                    <a data-bs-toggle="collapse" href="#sidebarProjects" aria-expanded="false"
                       aria-controls="sidebarProjects" class="side-nav-link">
                        <i class="uil-briefcase"></i>
                        <span> Projects </span>
                        <span class="menu-arrow"></span>
                    </a>
                    <div class="collapse" id="sidebarProjects">
                        <ul class="side-nav-second-level">
                            <li><a href="{% url 'apps:projects.list' %}">List</a></li>
                            <li><a href="{% url 'apps:projects.details' %}">Details</a></li>
                            <li> <a href="{% url 'apps:projects.gantt' %}">Gantt <spanclass="badge rounded-pill bg-light text-dark font-10 float-end">New</span></a></li>
                            <li> <a href="{% url 'apps:projects.add' %}">Create Project</a></li>
                        </ul>
                    </div>
                </li>

                <li class="side-nav-item">
                    <a data-bs-toggle="collapse" href="#sidebarTasks" aria-expanded="false" aria-controls="sidebarTasks"
                       class="side-nav-link">
                        <i class="uil-clipboard-alt"></i>
                        <span> Tasks </span>
                        <span class="menu-arrow"></span>
                    </a>
                    <div class="collapse" id="sidebarTasks">
                        <ul class="side-nav-second-level">
                            <li><a href="{% url 'apps:tasks.tasks' %}">List</a></li>
                            <li><a href="{% url 'apps:tasks.details' %}">Details</a></li>
                            <li><a href="{% url 'apps:tasks.kanban' %}">Kanban Board</a></li>
                        </ul>
                    </div>
                </li>
                <li class="side-nav-item">
                    <a href="/vendors/list/" class="side-nav-link">
                        <i class="uil-users-alt"></i>
                        <span> Vendor Management </span>
                    </a>
                </li>

        </ul>
        <!--- End Sidemenu -->

        <div class="clearfix"></div>
    </div>
</div>
<!-- ========== Left Sidebar End ========== -->